# video_spider
çŸ­è§†é¢‘åˆ†äº«é“¾æ¥è§£æï¼ŒçŸ­è§†é¢‘å»æ°´å°ï¼šæŠ–éŸ³ï¼Œçš®çš®è™¾ï¼Œå¾®è§†ï¼Œå°çº¢ä¹¦ï¼Œå“”å“©å“”å“©ç­‰ï¼Œä¸æ–­å¢åŠ ä¸­ã€‚

# å¿«æ·ä½“éªŒ

ç›®å‰è¿™ä¸ªæœåŠ¡å·²ç»éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨çš„å°ç¨‹åºï¼Œå¯ä»¥**æ‰«ç ä½“éªŒ**ã€‚

![video_spider](https://resources.linghanghuiye.com/image/console/20240725/66a24f542f7da1721913172.webp)

# é¡¹ç›®ä¾èµ–

å¦‚æœéœ€è¦ä½¿ç”¨å“”å“©å“”å“©è§£æä¸‹è½½ï¼Œéœ€è¦ä¸‹è½½ffmpegï¼Œç›®å‰æµ‹è¯•è¿‡5.*ç‰ˆæœ¬å’Œ7.*ç‰ˆæœ¬ï¼Œéƒ½å¯ä»¥æ­£å¸¸åˆå¹¶ç”Ÿæˆè§†é¢‘ã€‚

ffmpegçš„å®‰è£…æ•™ç¨‹å„linuxçš„å®‰è£…æ–¹æ³•ä¸ä¸€è‡´ï¼Œè¯·è‡ªè¡Œç™¾åº¦å®‰è£…ã€‚

# éƒ¨ç½²è¯´æ˜

ä»£ç å¼€å‘ä»¥golang1.22.5ç‰ˆæœ¬ä¸ºä¸»ï¼Œæ„å»ºä¹Ÿå»ºè®®ä½¿ç”¨æ­¤ç‰ˆæœ¬æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œä»¥éƒ¨ç½²åˆ°linuxæœåŠ¡å™¨ä¸ºä¾‹ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å¾—åˆ°äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ”¾åˆ°æœåŠ¡å™¨ç›´æ¥è¿è¡Œå¯åŠ¨ã€‚

å»ºè®®ä½¿ç”¨å®å¡”é¢æ¿golangéƒ¨ç½²ç®¡ç†ã€‚

```shell

git clone https://github.com/sanmiaohub/video_spider.git

cd video_spider

go mod download

go env -w GOOS=linux

go build -o analysis

./analysis

```

# è¯·æ±‚ç¤ºä¾‹
```
curl --location --request POST 'http://127.0.0.1:8080/analysis' \
--header 'User-Agent: Apifox/1.0.0 (https://apifox.com)' \
--header 'Accept: */*' \
--header 'Host: 127.0.0.1:8080' \
--header 'Connection: keep-alive' \
--header 'Content-Type: application/x-www-form-urlencoded' \
--data-urlencode 'share_link=32 ã€ç«¥è¶£insæ˜¥æ—¥æ¸…æ–°æ˜¾ç™½å¯çˆ±ç¾ç”² - æ²ƒå°å¦®å¦® | å°çº¢ä¹¦ - ä½ çš„ç”Ÿæ´»æŒ‡å—ã€‘ ğŸ˜† mp9w4UUBKZ3eKDi ğŸ˜† http://xhslink.com/98JQgR'
```

# å“åº”ç¤ºä¾‹

#### å“åº”å­—æ®µè¯´æ˜

| å­—æ®µè¯´æ˜ | è¯´æ˜ | é¢å¤–è§£é‡Š |
|  ----  | ----  | ---- |
| type  | 1ä¸ºè§†é¢‘ 2ä¸ºå›¾é›† |  |
| cover | å°é¢å›¾ |  |
| title | è§†é¢‘æˆ–è€…å›¾æ–‡çš„æ–‡æ¡ˆ |  |
| video | è§†é¢‘åœ°å€æ’­æ”¾ typeä¸º1æœ‰å€¼ |  |
| resource_path | è§†é¢‘ä¸‹è½½åœ°å€ã€å›¾æ–‡ä¸‹è½½åœ°å€ | è§†é¢‘ä¸ºå­—ç¬¦ä¸²ã€å›¾ç‰‡ä¸ºæ•°ç»„ |

#### å“åº”æ•°æ®ç»“æ„ç¤ºä¾‹

```json
{
    "data": {
        "cover": "http://sns-webpic-qc.xhscdn.com/202408021008/310772040177f73d98119d109e690768/1000g00822835degfq0004a471n6uaht53bs3hl0!nd_dft_wlteh_jpg_3",
        "resource_path": [
            "http://sns-webpic-qc.xhscdn.com/202408021008/310772040177f73d98119d109e690768/1000g00822835degfq0004a471n6uaht53bs3hl0!nd_dft_wlteh_jpg_3",
            "http://sns-webpic-qc.xhscdn.com/202408021008/a7a3565e88cd4c012204f7a28f76ea4b/1000g00822835degfq00g4a471n6uaht5pc9omf0!nd_dft_wlteh_jpg_3",
            "http://sns-webpic-qc.xhscdn.com/202408021008/f90e528088b67bdddb7603b201902385/1000g00822835degfq0104a471n6uaht5gnepj70!nd_dft_wlteh_jpg_3",
            "http://sns-webpic-qc.xhscdn.com/202408021008/e6d8b9fe18e90e69b318c6d81ed3e306/1000g00822835degfq01g4a471n6uaht5ro4chu0!nd_dft_wlteh_jpg_3"
        ],
        "title": "ç«¥è¶£insæ˜¥æ—¥æ¸…æ–°æ˜¾ç™½å¯çˆ±ç¾ç”²",
        "type": 2,
        "video": ""
    },
    "message": "success"
}
```

## FAQ

**å…³äºé…ç½®é¡¹**

ç›®å‰ä»£ç ä¸­éœ€è¦é…ç½®çš„åªæœ‰ä¸€ä¸ªç«¯å£å·ï¼Œç°åœ¨å†™æ­»çš„8080ï¼Œæ ¹æ®éœ€è¦è‡ªå·±ä¿®æ”¹å³å¯ã€‚å¦‚æœè¦æ›´æ¢æˆé…ç½®æ–‡ä»¶å½¢å¼ï¼Œè‡ªè¡Œå¼€å‘ï¼Œå»ä½¿ç”¨yamlé…ç½®æ–‡ä»¶ï¼ˆæ¯”è¾ƒç®€å•å°±è‡ªå·±å¼€å‘å§ï¼‰ã€‚

**å…³äºè§£æé€Ÿåº¦**

ç›®å‰å„å¹³å°è§£æçš„é€Ÿåº¦åœ¨600æ¯«ç§’å·¦å³ï¼Œbilibiliç‰¹æ®Šï¼Œéœ€è¦ä¸‹è½½m4sæºæ–‡ä»¶ï¼Œè¿›è¡Œffmpegåˆå¹¶ç”Ÿæˆã€‚æ‰€æœ‰æ¯”è¾ƒæ…¢ã€‚

**å…³äºæœ‰äº›è§†é¢‘å¹³å°è§£æå¤±è´¥**

æœ‰äº›å¹³å°éœ€è¦cookieï¼Œè¯·æ‰‹åŠ¨æ›´æ–°cookieï¼Œå¦‚æœè¿˜æ˜¯è§£æå¤±è´¥ï¼Œè¯·æäº¤issues

ç¤ºä¾‹ï¼šå“”å“©å“”å“©ï¼Œç™»å½•å“”å“©å“”å“©å®˜ç½‘ï¼Œåœ¨F12æ‰“å¼€æ£€æŸ¥ï¼Œæ‰“å¼€åº”ç”¨ï¼Œæ‰¾åˆ°COOKIEï¼Œæ‰¾åˆ°bilibiliç½‘å€ï¼Œæ‰¾åˆ°ä»£ç ä¸­éœ€è¦çš„cookieï¼Œæ›¿æ¢å¯¹åº”keyçš„å€¼å³å¯ï¼Œå“”å“©å“”å“©ä¸‹è½½çš„æ¸…æ™°åº¦å’Œç™»å½•äººçš„ä¼šå‘˜ç­‰çº§æœ‰å…³ã€‚

**å…³äºå®¢æˆ·ç«¯ä»£ç **

ç›®å‰æš‚ä¸æä¾›å‰ç«¯ä»£ç ï¼ˆä»£ç å¤ªä¸‘äº†ï¼‰ï¼Œåé¢é‡æ„åä¼šè¿›è¡Œå¼€æºå…¬å¸ƒã€‚

# å…è´£å£°æ˜
æœ¬ä»“åº“åªä¸ºå­¦ä¹ ç ”ç©¶ï¼Œå¦‚æ¶‰åŠä¾µçŠ¯ä¸ªäººæˆ–è€…å›¢ä½“åˆ©ç›Šï¼Œè¯·ä¸æˆ‘å–å¾—è”ç³»ï¼Œæˆ‘å°†ä¸»åŠ¨åˆ é™¤ä¸€åˆ‡ç›¸å…³èµ„æ–™ï¼Œè°¢è°¢ï¼